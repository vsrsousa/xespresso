{
  "name": "gpu_cluster",
  "execution": "remote",
  "scheduler": "slurm",
  "workdir": "/scratch/username/calculations",
  "host": "gpu-cluster.university.edu",
  "username": "username",
  "port": 22,
  "auth": {
    "method": "key",
    "ssh_key": "~/.ssh/id_rsa"
  },
  "nprocs": 8,
  "launcher": "mpirun -np {nprocs}",
  "use_modules": true,
  "modules": [
    "cuda/11.7",
    "quantum-espresso-gpu/7.0"
  ],
  "resources": {
    "nodes": 1,
    "ntasks-per-node": 8,
    "time": "04:00:00",
    "partition": "gpu",
    "gres": "gpu:2",
    "mem": "64G"
  },
  "prepend": [
    "export CUDA_VISIBLE_DEVICES=0,1",
    "nvidia-smi"
  ],
  "postpend": [
    "echo 'GPU job completed'"
  ]
}
